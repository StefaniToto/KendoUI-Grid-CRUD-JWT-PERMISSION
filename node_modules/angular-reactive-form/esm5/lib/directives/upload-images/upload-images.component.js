/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as _ from 'lodash';
import { FileService } from './test';
import { Component, Input, forwardRef, ElementRef, Renderer, Injector } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
var UploadImagesComponent = /** @class */ (function () {
    function UploadImagesComponent(injector, api, element, renderer) {
        this.injector = injector;
        this.api = api;
        this.element = element;
        this.renderer = renderer;
        this.inProgress = {
            process: false,
            error: false
        };
        this.number_file_upload_success = 0;
        this.fileList = [];
        this.isload = false;
        this.isShowDetail = false;
        this.imageFormats = ['jpg', 'jpeg', 'png', 'gif', 'tiff', 'bmp'];
        this.onChange = (/**
         * @param {?} val
         * @return {?}
         */
        function (val) { });
        this.onTouched = (/**
         * @return {?}
         */
        function () { });
        this.disabled = false;
    }
    /**
     * @param {?} val
     * @return {?}
     */
    UploadImagesComponent.prototype.writeValue = /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        if (val) {
            this.value = val;
        }
    };
    Object.defineProperty(UploadImagesComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._value = val;
            this.onChange(this._value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} fn
     * @return {?}
     */
    UploadImagesComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    UploadImagesComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouched = fn;
    };
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    UploadImagesComponent.prototype.setDisabledState = /**
     * @param {?} isDisabled
     * @return {?}
     */
    function (isDisabled) {
        this.disabled = isDisabled;
    };
    /**
     * @return {?}
     */
    UploadImagesComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.actionRender();
        }), 1);
    };
    /**
     * @return {?}
     */
    UploadImagesComponent.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.isClear === true) {
            setTimeout((/**
             * @return {?}
             */
            function () {
                if (!_.isNil(_this.multiple) && _this.multiple === true) {
                    _this.oldValue = [];
                    _this.fileList = [];
                }
                else {
                    _this.oldValue = null;
                }
                /** @type {?} */
                var $this = _this;
                if (!_.isNil(_this.multiple) && _this.multiple === true && !_.isEmpty($this.oldValue)) {
                    _.forEach(_this.oldValue, (/**
                     * @param {?} value
                     * @return {?}
                     */
                    function (value) {
                        $this.fileList.push(value);
                        $this.value = $this.fileList;
                    }));
                }
                else {
                    $this.value = $this.oldValue;
                }
            }), 1);
        }
    };
    /**
     * @return {?}
     */
    UploadImagesComponent.prototype.actionRender = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // tslint:disable-next-line:prefer-const
        /** @type {?} */
        var $this = this;
        this.isload = true;
        if (!_.isNil(this.multiple) && this.multiple === true && !_.isEmpty($this.oldValue)) {
            _.forEach(this.oldValue, (/**
             * @param {?} value
             * @return {?}
             */
            function (value) {
                $this.fileList.push(value);
                $this.value = $this.fileList;
            }));
        }
        else {
            $this.value = $this.oldValue;
        }
        this.isload = false;
        if (!_.isUndefined(this.accept)) {
            this.valid_extensions = this.accept.split('|');
        }
        $('#uploadfile-reactive-form-' + this.id).click((/**
         * @return {?}
         */
        function () {
            if (_this.inProgress[_this.subProgress] !== true) {
                // tslint:disable-next-line:prefer-const
                /** @type {?} */
                var input_1 = document.createElement('input');
                input_1.type = 'file';
                if (!_.isNil(_this.multiple) && _this.multiple === true) {
                    input_1.multiple = true;
                }
                $(input_1).trigger('click');
                $(input_1).on('change', (/**
                 * @param {?} event
                 * @return {?}
                 */
                function (event) {
                    _this.number_file_upload_success = 0;
                    _this.files = input_1.files;
                    if (_this.files.length > 1) {
                        _this.response_data = [];
                        _.forEach(_this.files, (/**
                         * @param {?} file
                         * @return {?}
                         */
                        function (file) {
                            $this.validateFile(file);
                        }));
                    }
                    if (_this.files.length === 1) {
                        _this.validateFile(_this.files[0]);
                    }
                }));
            }
        }));
    };
    /**
     * @return {?}
     */
    UploadImagesComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @param {?} file
     * @return {?}
     */
    UploadImagesComponent.prototype.getFileExtension = /**
     * @param {?} file
     * @return {?}
     */
    function (file) {
        return file.name.split('.').pop();
    };
    /**
     * @param {?} file
     * @return {?}
     */
    UploadImagesComponent.prototype.validateFile = /**
     * @param {?} file
     * @return {?}
     */
    function (file) {
        var _this = this;
        if (file !== undefined) {
            if (!_.isNil(this.allowMaxSize) && this.allowMaxSize !== '') {
                if (file.size > parseFloat(this.allowMaxSize) * 1024 * 1024) {
                    this.errorMessage = "Please select file less than " + this.allowMaxSize + "MB";
                    return false;
                }
            }
            // tslint:disable-next-line:max-line-length
            if (!_.isUndefined(this.accept) &&
                _.isUndefined(_.find(this.valid_extensions, (/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) { return item.toLowerCase() === _this.getFileExtension(file).toLowerCase(); })))) {
                this.errorMessage = 'Please select a file with valid type';
                return false;
            }
            this.upload(file);
        }
    };
    /**
     * @param {?} file
     * @return {?}
     */
    UploadImagesComponent.prototype.upload = /**
     * @param {?} file
     * @return {?}
     */
    function (file) {
        var _this = this;
        /** @type {?} */
        var UPLOAD_DIRECTIVE_HEADERS = this.injector.get('UPLOAD_DIRECTIVE_HEADERS');
        /** @type {?} */
        var UPLOAD_DIRECTIVE_API_URL = this.injector.get('UPLOAD_DIRECTIVE_API_URL');
        this.isload = true;
        // tslint:disable-next-line:prefer-const
        /** @type {?} */
        var $this = this;
        this.inProgress[this.subProgress] = true;
        this.inProgress[this.subError] = false;
        // tslint:disable-next-line:prefer-const
        /** @type {?} */
        var params = {
            // files: file
            upload_path: this.uploadPath
        };
        params[this.paramName] = file;
        /** @type {?} */
        var requestHeaders = UPLOAD_DIRECTIVE_HEADERS;
        /** @type {?} */
        var requestApiUrl = UPLOAD_DIRECTIVE_API_URL + this.apiUpload;
        this.api.upload(params, requestApiUrl, requestHeaders).subscribe((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            _this.inProgress[_this.subProgress] = false;
            _this.number_file_upload_success++;
            if (!_.isNil($this.multiple) && $this.multiple === true) {
                $this.fileList.push($this.resultTransformer(response));
                $this.value = $this.fileList;
            }
            else {
                $this.value = $this.resultTransformer(response);
            }
            _this.isload = false;
            _this.errorMessage = null;
        }), (/**
         * @param {?} error
         * @return {?}
         */
        function (error) {
            _this.isload = false;
            _this.inProgress[_this.subProgress] = false;
            _this.inProgress[_this.subError] = true;
            console.log('error', error);
        }));
    };
    /**
     * @param {?} item
     * @return {?}
     */
    UploadImagesComponent.prototype.deleteItem = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.fileList.splice(this.fileList.indexOf(item), 1);
        this.value = this.fileList;
    };
    /**
     * @param {?} url
     * @return {?}
     */
    UploadImagesComponent.prototype.showDetail = /**
     * @param {?} url
     * @return {?}
     */
    function (url) {
        this.isShowDetail = true;
        this.urlDetail = url;
    };
    /**
     * @return {?}
     */
    UploadImagesComponent.prototype.closeDetail = /**
     * @return {?}
     */
    function () {
        this.isShowDetail = false;
    };
    /**
     * @param {?} value
     * @param {?} arr
     * @return {?}
     */
    UploadImagesComponent.prototype.isInclude = /**
     * @param {?} value
     * @param {?} arr
     * @return {?}
     */
    function (value, arr) {
        /** @type {?} */
        var accepts = value.split('|');
        /** @type {?} */
        var result = true;
        _.forEach(accepts, (/**
         * @param {?} i
         * @return {?}
         */
        function (i) {
            if (!_.find(arr, (/**
             * @param {?} item
             * @return {?}
             */
            function (item) { return item === i; }))) {
                result = false;
            }
        }));
        return result;
    };
    UploadImagesComponent.decorators = [
        { type: Component, args: [{
                    // tslint:disable-next-line:component-selector
                    selector: 'upload-images',
                    template: "<div class=\"row\" *ngIf=\"isInclude(accept, imageFormats)\">\n  <div class=\"col-md-12 form-wrapper\" style=\"margin-bottom: 15px;\">\n    <div class=\"signle-img\" *ngIf=\"(!multiple && value) || (multiple === false && value)\">\n      <img\n        [ngStyle]=\"{\n          'background-image': 'url(' + value + ')',\n          'background-position': 'center',\n          'background-repeat': 'no-repeat',\n          'background-size': 'cover'\n        }\"\n        (click)=\"showDetail(value)\"\n        src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2OTlEMjQ4QkVCQkUxMUU4QkQ2NzlERkVBQ0QwNEU0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2OTlEMjQ4Q0VCQkUxMUU4QkQ2NzlERkVBQ0QwNEU0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5OUQyNDg5RUJCRTExRThCRDY3OURGRUFDRDA0RTREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY5OUQyNDhBRUJCRTExRThCRDY3OURGRUFDRDA0RTREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+O7rz2AAAASBJREFUeNrs0jERAAAIxDDAv+fHACNjIqHXTlLwbSTAWBgLY4GxMBbGAmNhLIwFxsJYGAuMhbEwFhgLY2EsMBbGwlhgLIyFscBYGAtjgbEwFsYCY2EsjAXGwlgYC4yFsTAWGAtjYSwwFsbCWGAsjIWxwFgYC2OBsTAWxgJjYSyMBcbCWBgLjIWxMBYYC2NhLDAWxsJYYCyMhbHAWBgLY4GxMBbGAmNhLIwFxsJYGAuMhbEwFsYCY2EsjAXGwlgYC4yFsTAWGAtjYSwwFsbCWGAsjIWxwFgYC2OBsTAWxgJjYSyMBcbCWBgLjIWxMBYYC2NhLDAWxsJYYCyMhbHAWBgLY4GxMBbGAmNhLIwFxsJYGAuMhbEwFhgLY2EsuK0AAwBL0gQp9PLLgwAAAABJRU5ErkJggg==\"\n        width=\"100\"\n        alt=\"\"\n      />\n    </div>\n    <div class=\"mutil-img\" *ngIf=\"multiple === true\">\n      <div class=\"group-item\" *ngFor=\"let item of value\">\n        <img\n          [ngStyle]=\"{\n            'background-image': 'url(' + item + ')',\n            'background-position': 'center',\n            'background-repeat': 'no-repeat',\n            'background-size': 'cover'\n          }\"\n          (click)=\"showDetail(item)\"\n          class=\"singleImg\"\n          alt=\"\"\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2OTlEMjQ4QkVCQkUxMUU4QkQ2NzlERkVBQ0QwNEU0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2OTlEMjQ4Q0VCQkUxMUU4QkQ2NzlERkVBQ0QwNEU0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5OUQyNDg5RUJCRTExRThCRDY3OURGRUFDRDA0RTREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY5OUQyNDhBRUJCRTExRThCRDY3OURGRUFDRDA0RTREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+O7rz2AAAASBJREFUeNrs0jERAAAIxDDAv+fHACNjIqHXTlLwbSTAWBgLY4GxMBbGAmNhLIwFxsJYGAuMhbEwFhgLY2EsMBbGwlhgLIyFscBYGAtjgbEwFsYCY2EsjAXGwlgYC4yFsTAWGAtjYSwwFsbCWGAsjIWxwFgYC2OBsTAWxgJjYSyMBcbCWBgLjIWxMBYYC2NhLDAWxsJYYCyMhbHAWBgLY4GxMBbGAmNhLIwFxsJYGAuMhbEwFsYCY2EsjAXGwlgYC4yFsTAWGAtjYSwwFsbCWGAsjIWxwFgYC2OBsTAWxgJjYSyMBcbCWBgLjIWxMBYYC2NhLDAWxsJYYCyMhbHAWBgLY4GxMBbGAmNhLIwFxsJYGAuMhbEwFhgLY2EsuK0AAwBL0gQp9PLLgwAAAABJRU5ErkJggg==\"\n        />\n        <span (click)=\"deleteItem(item)\">Remove</span>\n      </div>\n      <div class=\"loader-img add-icon\" *ngIf=\"isload\"></div>\n      <div id=\"uploadfile-reactive-form-{{ id }}\" class=\"plus icon add-icon\"></div>\n    </div>\n    <div class=\"loader-img add-icon\" *ngIf=\"(isload && multiple === false) || (isload && !multiple)\"></div>\n    <div *ngIf=\"multiple === false || !multiple\" id=\"uploadfile-reactive-form-{{ id }}\" class=\"plus icon add-icon\"></div>\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"!isInclude(accept, imageFormats)\">\n  <div class=\"col-md-12\" style=\"margin-bottom: 15px;\">\n    <div class=\"form-group\" *ngIf=\"(!multiple && value) || (multiple === false && value)\">\n      <p><i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i> {{ value }}</p>\n    </div>\n    <div class=\"mutil-img\" *ngIf=\"multiple === true\">\n      <div *ngFor=\"let item of value\">\n        <p>\n          <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i> {{ item\n          }}<i (click)=\"deleteItem(item)\" class=\"fa fa-times\" aria-hidden=\"true\"></i>\n        </p>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <div class=\"btn btn-primary btn-upload-file\" id=\"uploadfile-reactive-form-{{ id }}\">\n        <div class=\"loader-img add-icon\" *ngIf=\"isload\"></div>\n        Select files\n      </div>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"isShowDetail && isInclude(accept, imageFormats)\" class=\"mask-wrapper\">\n  <div (click)=\"closeDetail()\" class=\"remove icon close\"></div>\n  <img src=\"{{ urlDetail }}\" alt=\"\" />\n</div>\n\n<div *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n",
                    providers: [
                        FileService,
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return UploadImagesComponent; })),
                            multi: true
                        }
                    ],
                    styles: [".row{margin-top:15px}.mutil-img .group-item .singleImg,.signle-img{border:1px solid grey;padding:3px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.mutil-img,.signle-img{display:inline-block}.mutil-img .group-item{display:inline-block;position:relative;margin-right:5px;margin-bottom:30px}.mutil-img .group-item span{position:absolute;left:50%;bottom:-25px;margin-left:-25px;cursor:pointer}.mutil-img .group-item span:hover{text-decoration:underline;color:grey}.add-icon{margin-left:30px;margin-bottom:25px;cursor:pointer;display:inline-block}img{cursor:pointer}body{position:relative}.mask-wrapper{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.8);width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:99999}.close{position:absolute;top:50px;color:#fff;right:100px;cursor:pointer}.remove.icon{color:#000;position:absolute;margin-left:3px;margin-top:10px;padding:20px}.remove.icon:before{content:'';position:absolute;left:2px;width:30px;height:5px;background-color:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.remove.icon:after{content:'';position:absolute;width:30px;left:2px;height:5px;background-color:#fff;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.loader-img{border:3px solid #f3f3f3;border-radius:50%;border-top:3px solid #3498db;width:36px;height:36px;-webkit-animation:2s linear infinite spin;animation:2s linear infinite spin}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.plus.icon{color:#000;position:relative;width:65px;height:65px;border:3px solid #000;border-radius:50%;cursor:pointer}.plus.icon:before{content:'';position:absolute;width:30px;height:3px;background-color:#000;top:50%;left:50%;margin-left:-15px}.plus.icon:after{content:'';position:absolute;width:30px;height:3px;background-color:#000;-webkit-transform:rotate(90deg);transform:rotate(90deg);top:48%;left:24%}.form-wrapper{display:flex;align-items:center}.form-wrapper .signle-img{width:100px;min-height:100px;display:flex;align-items:center}.form-wrapper .signle-img img{width:100%}.form-wrapper .mutil-img{display:flex;margin-bottom:33px;flex-wrap:wrap;align-items:center}.form-wrapper .mutil-img img{width:100px}.error-message{color:red;margin-top:15px}.btn-upload-file{position:relative}.btn-upload-file .add-icon{position:absolute;right:-50px;top:0}.fa-times{margin-left:15px;cursor:pointer;color:#cd5c5c}"]
                }] }
    ];
    /** @nocollapse */
    UploadImagesComponent.ctorParameters = function () { return [
        { type: Injector },
        { type: FileService },
        { type: ElementRef },
        { type: Renderer }
    ]; };
    UploadImagesComponent.propDecorators = {
        id: [{ type: Input }],
        headers: [{ type: Input }],
        apiUpload: [{ type: Input }],
        accept: [{ type: Input }],
        subProgress: [{ type: Input }],
        subError: [{ type: Input }],
        allowMaxSize: [{ type: Input }],
        uploadPath: [{ type: Input }],
        multiple: [{ type: Input }],
        _value: [{ type: Input }],
        resultTransformer: [{ type: Input }],
        paramName: [{ type: Input }],
        oldValue: [{ type: Input }],
        isClear: [{ type: Input }]
    };
    return UploadImagesComponent;
}());
export { UploadImagesComponent };
if (false) {
    /** @type {?} */
    UploadImagesComponent.prototype.id;
    /** @type {?} */
    UploadImagesComponent.prototype.headers;
    /** @type {?} */
    UploadImagesComponent.prototype.apiUpload;
    /** @type {?} */
    UploadImagesComponent.prototype.accept;
    /** @type {?} */
    UploadImagesComponent.prototype.subProgress;
    /** @type {?} */
    UploadImagesComponent.prototype.subError;
    /** @type {?} */
    UploadImagesComponent.prototype.allowMaxSize;
    /** @type {?} */
    UploadImagesComponent.prototype.uploadPath;
    /** @type {?} */
    UploadImagesComponent.prototype.multiple;
    /** @type {?} */
    UploadImagesComponent.prototype._value;
    /** @type {?} */
    UploadImagesComponent.prototype.resultTransformer;
    /** @type {?} */
    UploadImagesComponent.prototype.paramName;
    /** @type {?} */
    UploadImagesComponent.prototype.oldValue;
    /** @type {?} */
    UploadImagesComponent.prototype.isClear;
    /** @type {?} */
    UploadImagesComponent.prototype.inProgress;
    /** @type {?} */
    UploadImagesComponent.prototype.files;
    /** @type {?} */
    UploadImagesComponent.prototype.number_file_upload_success;
    /** @type {?} */
    UploadImagesComponent.prototype.response_data;
    /** @type {?} */
    UploadImagesComponent.prototype.valid_extensions;
    /** @type {?} */
    UploadImagesComponent.prototype.fileList;
    /** @type {?} */
    UploadImagesComponent.prototype.isload;
    /** @type {?} */
    UploadImagesComponent.prototype.isShowDetail;
    /** @type {?} */
    UploadImagesComponent.prototype.urlDetail;
    /** @type {?} */
    UploadImagesComponent.prototype.errorMessage;
    /** @type {?} */
    UploadImagesComponent.prototype.imageFormats;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.disabled;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.onChange;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.onTouched;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.injector;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.api;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.element;
    /**
     * @type {?}
     * @private
     */
    UploadImagesComponent.prototype.renderer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBsb2FkLWltYWdlcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLXJlYWN0aXZlLWZvcm0vIiwic291cmNlcyI6WyJsaWIvZGlyZWN0aXZlcy91cGxvYWQtaW1hZ2VzL3VwbG9hZC1pbWFnZXMuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEtBQUssQ0FBQyxNQUFNLFFBQVEsQ0FBQztBQUM1QixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRXJDLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUE0QixRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0gsT0FBTyxFQUF3QixpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXpFO0lBOENFLCtCQUFvQixRQUFrQixFQUFVLEdBQWdCLEVBQVUsT0FBbUIsRUFBVSxRQUFrQjtRQUFyRyxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQVUsUUFBRyxHQUFILEdBQUcsQ0FBYTtRQUFVLFlBQU8sR0FBUCxPQUFPLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBakJ6SCxlQUFVLEdBQVE7WUFDaEIsT0FBTyxFQUFFLEtBQUs7WUFDZCxLQUFLLEVBQUUsS0FBSztTQUNiLENBQUM7UUFFRiwrQkFBMEIsR0FBRyxDQUFDLENBQUM7UUFHL0IsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFDZixpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUdyQixpQkFBWSxHQUFHLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUsxRCxJQUFJLENBQUMsUUFBUTs7OztRQUFHLFVBQUMsR0FBUSxJQUFNLENBQUMsQ0FBQSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxTQUFT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VztnQkFFMkIsVUFBVTtnQkFBRSxRQUFROzs7cUJBa0JoRSxLQUFLOzBCQUNMLEtBQUs7NEJBQ0wsS0FBSzt5QkFDTCxLQUFLOzhCQUNMLEtBQUs7MkJBQ0wsS0FBSzsrQkFDTCxLQUFLOzZCQUNMLEtBQUs7MkJBQ0wsS0FBSzt5QkFDTCxLQUFLO29DQUNMLEtBQUs7NEJBQ0wsS0FBSzsyQkFDTCxLQUFLOzBCQUNMLEtBQUs7O0lBcU5SLDRCQUFDO0NBQUEsQUFqUEQsSUFpUEM7U0FuT1kscUJBQXFCOzs7SUFDaEMsbUNBQW9COztJQUNwQix3Q0FBeUI7O0lBQ3pCLDBDQUEyQjs7SUFDM0IsdUNBQXdCOztJQUN4Qiw0Q0FBMEI7O0lBQzFCLHlDQUF1Qjs7SUFDdkIsNkNBQTJCOztJQUMzQiwyQ0FBeUI7O0lBQ3pCLHlDQUEyQjs7SUFDM0IsdUNBQWdCOztJQUNoQixrREFBMkI7O0lBQzNCLDBDQUFtQjs7SUFDbkIseUNBQWtCOztJQUNsQix3Q0FBMEI7O0lBQzFCLDJDQUdFOztJQUNGLHNDQUFNOztJQUNOLDJEQUErQjs7SUFDL0IsOENBQWM7O0lBQ2QsaURBQWlCOztJQUNqQix5Q0FBYzs7SUFDZCx1Q0FBZTs7SUFDZiw2Q0FBcUI7O0lBQ3JCLDBDQUFVOztJQUNWLDZDQUFhOztJQUNiLDZDQUE0RDs7Ozs7SUFDNUQseUNBQTBCOzs7OztJQUMxQix5Q0FBMkI7Ozs7O0lBQzNCLDBDQUE0Qjs7Ozs7SUFDaEIseUNBQTBCOzs7OztJQUFFLG9DQUF3Qjs7Ozs7SUFBRSx3Q0FBMkI7Ozs7O0lBQUUseUNBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgRmlsZVNlcnZpY2UgfSBmcm9tICcuL3Rlc3QnO1xuZGVjbGFyZSBjb25zdCAkOiBhbnk7XG5pbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIGZvcndhcmRSZWYsIEVsZW1lbnRSZWYsIFJlbmRlcmVyLCBBZnRlclZpZXdJbml0LCBPbkNoYW5nZXMsIEluamVjdG9yIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBDb21wb25lbnQoe1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y29tcG9uZW50LXNlbGVjdG9yXG4gIHNlbGVjdG9yOiAndXBsb2FkLWltYWdlcycsXG4gIHRlbXBsYXRlVXJsOiAnLi91cGxvYWQtaW1hZ2VzLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdXBsb2FkLWltYWdlcy5jb21wb25lbnQuY3NzJ10sXG4gIHByb3ZpZGVyczogW1xuICAgIEZpbGVTZXJ2aWNlLFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVXBsb2FkSW1hZ2VzQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlXG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFVwbG9hZEltYWdlc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQ29udHJvbFZhbHVlQWNjZXNzb3IsIEFmdGVyVmlld0luaXQsIE9uQ2hhbmdlcyB7XG4gIEBJbnB1dCgpIGlkOiBudW1iZXI7XG4gIEBJbnB1dCgpIGhlYWRlcnM6IHN0cmluZztcbiAgQElucHV0KCkgYXBpVXBsb2FkOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGFjY2VwdDogc3RyaW5nO1xuICBASW5wdXQoKSBzdWJQcm9ncmVzczogYW55O1xuICBASW5wdXQoKSBzdWJFcnJvcjogYW55O1xuICBASW5wdXQoKSBhbGxvd01heFNpemU6IGFueTtcbiAgQElucHV0KCkgdXBsb2FkUGF0aDogYW55O1xuICBASW5wdXQoKSBtdWx0aXBsZTogQm9vbGVhbjtcbiAgQElucHV0KCkgX3ZhbHVlO1xuICBASW5wdXQoKSByZXN1bHRUcmFuc2Zvcm1lcjtcbiAgQElucHV0KCkgcGFyYW1OYW1lO1xuICBASW5wdXQoKSBvbGRWYWx1ZTtcbiAgQElucHV0KCkgaXNDbGVhcjogQm9vbGVhbjtcbiAgaW5Qcm9ncmVzczogYW55ID0ge1xuICAgIHByb2Nlc3M6IGZhbHNlLFxuICAgIGVycm9yOiBmYWxzZVxuICB9O1xuICBmaWxlcztcbiAgbnVtYmVyX2ZpbGVfdXBsb2FkX3N1Y2Nlc3MgPSAwO1xuICByZXNwb25zZV9kYXRhO1xuICB2YWxpZF9leHRlbnNpb25zO1xuICBmaWxlTGlzdCA9IFtdO1xuICBpc2xvYWQgPSBmYWxzZTtcbiAgaXNTaG93RGV0YWlsID0gZmFsc2U7XG4gIHVybERldGFpbDtcbiAgZXJyb3JNZXNzYWdlO1xuICBpbWFnZUZvcm1hdHMgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAndGlmZicsICdibXAnXTtcbiAgcHJpdmF0ZSBkaXNhYmxlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBvbkNoYW5nZTogRnVuY3Rpb247XG4gIHByaXZhdGUgb25Ub3VjaGVkOiBGdW5jdGlvbjtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3IsIHByaXZhdGUgYXBpOiBGaWxlU2VydmljZSwgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcikge1xuICAgIHRoaXMub25DaGFuZ2UgPSAodmFsOiBhbnkpID0+IHt9O1xuICAgIHRoaXMub25Ub3VjaGVkID0gKCkgPT4ge307XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgd3JpdGVWYWx1ZSh2YWw6IGFueSk6IHZvaWQge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIHNldCB2YWx1ZSh2YWwpIHtcbiAgICB0aGlzLl92YWx1ZSA9IHZhbDtcbiAgICB0aGlzLm9uQ2hhbmdlKHRoaXMuX3ZhbHVlKTtcbiAgfVxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vblRvdWNoZWQgPSBmbjtcbiAgfVxuXG4gIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5hY3Rpb25SZW5kZXIoKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIGlmICh0aGlzLmlzQ2xlYXIgPT09IHRydWUpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIV8uaXNOaWwodGhpcy5tdWx0aXBsZSkgJiYgdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMub2xkVmFsdWUgPSBbXTtcbiAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgJHRoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIV8uaXNOaWwodGhpcy5tdWx0aXBsZSkgJiYgdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSAmJiAhXy5pc0VtcHR5KCR0aGlzLm9sZFZhbHVlKSkge1xuICAgICAgICAgIF8uZm9yRWFjaCh0aGlzLm9sZFZhbHVlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgJHRoaXMuZmlsZUxpc3QucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAkdGhpcy52YWx1ZSA9ICR0aGlzLmZpbGVMaXN0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICR0aGlzLnZhbHVlID0gJHRoaXMub2xkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0sIDEpO1xuICAgIH1cbiAgfVxuXG4gIGFjdGlvblJlbmRlcigpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLWNvbnN0XG4gICAgbGV0ICR0aGlzID0gdGhpcztcbiAgICB0aGlzLmlzbG9hZCA9IHRydWU7XG4gICAgaWYgKCFfLmlzTmlsKHRoaXMubXVsdGlwbGUpICYmIHRoaXMubXVsdGlwbGUgPT09IHRydWUgJiYgIV8uaXNFbXB0eSgkdGhpcy5vbGRWYWx1ZSkpIHtcbiAgICAgIF8uZm9yRWFjaCh0aGlzLm9sZFZhbHVlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAkdGhpcy5maWxlTGlzdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgJHRoaXMudmFsdWUgPSAkdGhpcy5maWxlTGlzdDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy52YWx1ZSA9ICR0aGlzLm9sZFZhbHVlO1xuICAgIH1cbiAgICB0aGlzLmlzbG9hZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFfLmlzVW5kZWZpbmVkKHRoaXMuYWNjZXB0KSkge1xuICAgICAgdGhpcy52YWxpZF9leHRlbnNpb25zID0gdGhpcy5hY2NlcHQuc3BsaXQoJ3wnKTtcbiAgICB9XG5cbiAgICAkKCcjdXBsb2FkZmlsZS1yZWFjdGl2ZS1mb3JtLScgKyB0aGlzLmlkKS5jbGljaygoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pblByb2dyZXNzW3RoaXMuc3ViUHJvZ3Jlc3NdICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItY29uc3RcbiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudHlwZSA9ICdmaWxlJztcbiAgICAgICAgaWYgKCFfLmlzTmlsKHRoaXMubXVsdGlwbGUpICYmIHRoaXMubXVsdGlwbGUgPT09IHRydWUpIHtcbiAgICAgICAgICBpbnB1dC5tdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgJChpbnB1dCkudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgJChpbnB1dCkub24oJ2NoYW5nZScsIGV2ZW50ID0+IHtcbiAgICAgICAgICB0aGlzLm51bWJlcl9maWxlX3VwbG9hZF9zdWNjZXNzID0gMDtcbiAgICAgICAgICB0aGlzLmZpbGVzID0gaW5wdXQuZmlsZXM7XG5cbiAgICAgICAgICBpZiAodGhpcy5maWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlX2RhdGEgPSBbXTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCh0aGlzLmZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICR0aGlzLnZhbGlkYXRlRmlsZShmaWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5maWxlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVGaWxlKHRoaXMuZmlsZXNbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHt9XG5cbiAgZ2V0RmlsZUV4dGVuc2lvbihmaWxlKSB7XG4gICAgcmV0dXJuIGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICB9XG5cbiAgdmFsaWRhdGVGaWxlKGZpbGUpIHtcbiAgICBpZiAoZmlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIV8uaXNOaWwodGhpcy5hbGxvd01heFNpemUpICYmIHRoaXMuYWxsb3dNYXhTaXplICE9PSAnJykge1xuICAgICAgICBpZiAoZmlsZS5zaXplID4gcGFyc2VGbG9hdCh0aGlzLmFsbG93TWF4U2l6ZSkgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gYFBsZWFzZSBzZWxlY3QgZmlsZSBsZXNzIHRoYW4gJHt0aGlzLmFsbG93TWF4U2l6ZX1NQmA7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICBpZiAoXG4gICAgICAgICFfLmlzVW5kZWZpbmVkKHRoaXMuYWNjZXB0KSAmJlxuICAgICAgICBfLmlzVW5kZWZpbmVkKF8uZmluZCh0aGlzLnZhbGlkX2V4dGVuc2lvbnMsIGl0ZW0gPT4gaXRlbS50b0xvd2VyQ2FzZSgpID09PSB0aGlzLmdldEZpbGVFeHRlbnNpb24oZmlsZSkudG9Mb3dlckNhc2UoKSkpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnUGxlYXNlIHNlbGVjdCBhIGZpbGUgd2l0aCB2YWxpZCB0eXBlJztcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy51cGxvYWQoZmlsZSk7XG4gICAgfVxuICB9XG5cbiAgdXBsb2FkKGZpbGUpIHtcbiAgICBjb25zdCBVUExPQURfRElSRUNUSVZFX0hFQURFUlMgPSB0aGlzLmluamVjdG9yLmdldCgnVVBMT0FEX0RJUkVDVElWRV9IRUFERVJTJyk7XG4gICAgY29uc3QgVVBMT0FEX0RJUkVDVElWRV9BUElfVVJMID0gdGhpcy5pbmplY3Rvci5nZXQoJ1VQTE9BRF9ESVJFQ1RJVkVfQVBJX1VSTCcpO1xuXG4gICAgdGhpcy5pc2xvYWQgPSB0cnVlO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItY29uc3RcbiAgICBsZXQgJHRoaXMgPSB0aGlzO1xuICAgIHRoaXMuaW5Qcm9ncmVzc1t0aGlzLnN1YlByb2dyZXNzXSA9IHRydWU7XG4gICAgdGhpcy5pblByb2dyZXNzW3RoaXMuc3ViRXJyb3JdID0gZmFsc2U7XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLWNvbnN0XG4gICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgIC8vIGZpbGVzOiBmaWxlXG4gICAgICB1cGxvYWRfcGF0aDogdGhpcy51cGxvYWRQYXRoXG4gICAgfTtcbiAgICBwYXJhbXNbdGhpcy5wYXJhbU5hbWVdID0gZmlsZTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IFVQTE9BRF9ESVJFQ1RJVkVfSEVBREVSUztcbiAgICBjb25zdCByZXF1ZXN0QXBpVXJsID0gVVBMT0FEX0RJUkVDVElWRV9BUElfVVJMICsgdGhpcy5hcGlVcGxvYWQ7XG4gICAgdGhpcy5hcGkudXBsb2FkKHBhcmFtcywgcmVxdWVzdEFwaVVybCwgcmVxdWVzdEhlYWRlcnMpLnN1YnNjcmliZShcbiAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgdGhpcy5pblByb2dyZXNzW3RoaXMuc3ViUHJvZ3Jlc3NdID0gZmFsc2U7XG4gICAgICAgIHRoaXMubnVtYmVyX2ZpbGVfdXBsb2FkX3N1Y2Nlc3MrKztcbiAgICAgICAgaWYgKCFfLmlzTmlsKCR0aGlzLm11bHRpcGxlKSAmJiAkdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICR0aGlzLmZpbGVMaXN0LnB1c2goJHRoaXMucmVzdWx0VHJhbnNmb3JtZXIocmVzcG9uc2UpKTtcbiAgICAgICAgICAkdGhpcy52YWx1ZSA9ICR0aGlzLmZpbGVMaXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICR0aGlzLnZhbHVlID0gJHRoaXMucmVzdWx0VHJhbnNmb3JtZXIocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNsb2FkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbnVsbDtcbiAgICAgIH0sXG4gICAgICBlcnJvciA9PiB7XG4gICAgICAgIHRoaXMuaXNsb2FkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzc1t0aGlzLnN1YlByb2dyZXNzXSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluUHJvZ3Jlc3NbdGhpcy5zdWJFcnJvcl0gPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGRlbGV0ZUl0ZW0oaXRlbSkge1xuICAgIHRoaXMuZmlsZUxpc3Quc3BsaWNlKHRoaXMuZmlsZUxpc3QuaW5kZXhPZihpdGVtKSwgMSk7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuZmlsZUxpc3Q7XG4gIH1cblxuICBzaG93RGV0YWlsKHVybCkge1xuICAgIHRoaXMuaXNTaG93RGV0YWlsID0gdHJ1ZTtcbiAgICB0aGlzLnVybERldGFpbCA9IHVybDtcbiAgfVxuXG4gIGNsb3NlRGV0YWlsKCkge1xuICAgIHRoaXMuaXNTaG93RGV0YWlsID0gZmFsc2U7XG4gIH1cblxuICBpc0luY2x1ZGUodmFsdWUsIGFycikge1xuICAgIGNvbnN0IGFjY2VwdHMgPSB2YWx1ZS5zcGxpdCgnfCcpO1xuICAgIGxldCByZXN1bHQgPSB0cnVlO1xuICAgIF8uZm9yRWFjaChhY2NlcHRzLCBmdW5jdGlvbihpKSB7XG4gICAgICBpZiAoIV8uZmluZChhcnIsIGl0ZW0gPT4gaXRlbSA9PT0gaSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuIl19